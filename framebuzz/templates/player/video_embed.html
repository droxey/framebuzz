{% load staticfiles socialaccount compress %}
<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article" ng-app="framebuzz">
  <head>
    {% if close_window %}
      <script type="text/javascript">
        window.opener.location.reload();
        window.close();
      </script>
    {% endif %}
    <title>FrameBuzz | {{ video.title }}</title>
    <meta name="description" content="{{ video.description }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="FrameBuzz: {{ video.title }}">
    <meta property="og:type" content="Video">
    <meta property="og:url" content="http://{{ current_site }}{{ video.get_absolute_url }}">
    <meta property="og:image" content="{{ video.default_thumbnail.url }}">
    <meta property="og:description" content="I'm watching {{ video.title }}. Come talk about it with me on FrameBuzz!">
    <meta property="og:site_name" content="FrameBuzz">
    <meta itemprop="name" content="FrameBuzz: {{ video.title }}">
    <meta itemprop="description" content="I'm watching {{ video.title }}. Come talk about it with me on FrameBuzz!">
    <meta itemprop="image" content="{{ video.default_thumbnail.url }}">
    {% compress css %}
      <link href="{% static 'framebuzz/player/app/css/bootstrap.min.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <link href="{% static 'framebuzz/player/app/css/bootstrap-responsive.min.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <link href="{% static 'framebuzz/player/app/css/mediaelementplayer.min.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <link href="{% static 'framebuzz/player/app/css/mejs-skins.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <link href="{% static 'framebuzz/player/app/css/perfect-scrollbar-0.4.1.min.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <link href="{% static 'framebuzz/player/app/sass/stylesheets/screen.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <!--[if IE]>
          <link href="{% static 'framebuzz/player/app/sass/stylesheets/ie.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
      <![endif]-->
    {% endcompress %}
    <script type="text/javascript" src="//use.typekit.net/jbo8iic.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    {% compress js %}
      <script type="text/javascript">
        // Disable ESC as it breaks SockJS connection.
        // See https://github.com/sockjs/sockjs-client/issues/18.
        window.addEventListener('keydown', function(e) { (e.keyCode == 27 && e.preventDefault()) });
        window.location.hash = '#/player';

        // Set up our global SOCK variable.
        var SOCK = {
          host: location.hostname,
          port: {{ socket_port }},
          channel: '{{ socket_channel }}',
          video_channel: '/framebuzz/video/' + '{{ video.video_id }}',
          root_path: '/static/framebuzz/player/app/',
          user_channel: '{{ user_channel }}',
          login_url: "{% url 'video-login' video.video_id %}",
          logout_url: "{% url 'video-logout' video.video_id %}",
          signup_url: "{% url 'video-signup' video.video_id %}"
        };
      </script>
    {% endcompress %}
    <!--[if lt IE 9]>
      {% compress js %}
        <script src="{% static 'framebuzz/player/app/lib/html5shiv.js' %}"></script>
      {% endcompress %}
    <![endif]-->
  </head>
  <body class="ng-cloak">
    {% providers_media_js %}
    <div id="player-container" class="container">
      <div id="player-layer" class="layer">
        <video data-media-element="" class="span12" id="video-element" preload="none" type="video/youtube" src="{{ video.swf_url }}">
        </video>
        <div id="heatmap-and-post" data-ui-view=""></div>
      </div>
    </div>
    <script src="//cdn.sockjs.org/sockjs-0.3.4.min.js"></script>
    {% compress js %}
      <script src="{% static 'framebuzz/player/app/lib/jquery/jquery-1.9.1.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/angular/angular.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/angular/angular-ui-router.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/angular/angular-resource.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/angular/angular-cookies.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/angular/ui-bootstrap-0.4.0.min.js' %}"></script>

      <script src="{% static 'framebuzz/player/app/lib/gsap/TweenMax.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/gsap/jquery.gsap.min.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/mediaelement-and-player.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/lib/mejs-framebuzz-plugins.js' %}"></script>
      
      <script src="{% static 'framebuzz/player/app/js/app.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/js/animations.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/js/services.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/js/controllers.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/js/filters.js' %}"></script>
      <script src="{% static 'framebuzz/player/app/js/directives.js' %}"></script>
      <script src="{% static 'framebuzz/js/vendor/plugins.js' %}"></script>

      <script src="{% static 'framebuzz/player/app/lib/perfect-scrollbar-0.4.1.with-mousewheel.min.js' %}"></script>
    {% endcompress %}
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-40966336-1', 'framebuzz.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>