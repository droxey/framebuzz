{% load staticfiles socialaccount compress %}
<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article" ng-app="framebuzz">
    <head>
      <title>FrameBuzz | {{ video.title }}</title>
      <meta name="description" content="{{ video.description }}">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta property="og:title" content="FrameBuzz: {{ video.title }}">
      <meta property="og:type" content="Video">
      <meta property="og:url" content="http://{{ current_site }}{{ video.get_absolute_url }}">
      <meta property="og:image" content="{{ video.default_thumbnail.url }}">
      <meta property="og:description" content="I'm watching {{ video.title }}. Come talk about it with me on FrameBuzz!">
      <meta property="og:site_name" content="FrameBuzz">
      <meta itemprop="name" content="FrameBuzz: {{ video.title }}">
      <meta itemprop="description" content="I'm watching {{ video.title }}. Come talk about it with me on FrameBuzz!">
      <meta itemprop="image" content="{{ video.default_thumbnail.url }}">
      {% compress css %}
        <link href="{% static 'framebuzz/player/app/css/bootstrap.min.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
        <link href="{% static 'framebuzz/player/app/css/bootstrap-responsive.min.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
        <link href="{% static 'framebuzz/player/app/css/mediaelementplayer.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
        <link href="{% static 'framebuzz/player/app/css/mejs-skins.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
        <link href="{% static 'framebuzz/player/app/sass/stylesheets/screen.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
        <!--[if IE]>
            <link href="{% static 'framebuzz/player/app/sass/stylesheets/ie.css' %}" media="screen, projection" rel="stylesheet" type="text/css">
        <![endif]-->
      {% endcompress %}
      <script type="text/javascript" src="//use.typekit.net/jbo8iic.js"></script>
      <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
      {% compress js %}
        <script type="text/javascript">
          var closeWindow = '{{ close_window|lower }}' == 'true';
          if (closeWindow) {
            window.opener.location.reload();
            window.close();
          }

          // Disable ESC as it breaks SockJS connection.
          // See https://github.com/sockjs/sockjs-client/issues/18.
          window.addEventListener('keydown', function(e) { (e.keyCode == 27 && e.preventDefault()) });

          // Set up our global SOCK variable.
          var SOCK = {
            host: location.hostname,
            port: {{ socket_port }},
            channel: '{{ socket_channel }}',
            video_channel: '/framebuzz/video/' + '{{ video.video_id }}'
          };
        </script>
      {% endcompress %}
    </head>
    <body ng-controller="VideoPlayerCtrl">
      {% providers_media_js %}
      <div id="container" class="row-fluid">
        <div id="content">
          <div id="video-wrapper">
            <video class="span12" id="ytVideo" preload="none" type="video/x-youtube" src="http://www.youtube.com/watch?v={{ video.video_id }}"></video>
            {% verbatim %}
              <div id="overlays">
                <div id="panel-wrapper" class="offset6 span6">
                  <div class="panel"></div>
                </div>
                <div id="heatmap" class="span12">
                  <ul class="clearfix">
                    <li class="{{ block.className }}" ng-repeat="block in heatmap"></li>
                  </ul>
                </div>
              </div>
            {% endverbatim %}
          </div>
        </div>
      </div>
      <script src="//cdn.sockjs.org/sockjs-0.3.min.js"></script>
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
      <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular-resource.min.js"></script>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
      {% compress js %}
        <script src="{% static 'framebuzz/js/vendor/mediaelement-and-player.js' %}"></script>
        <script src="{% static 'framebuzz/js/vendor/plugins.js' %}"></script>
        <script src="{% static 'framebuzz/player/app/js/app.js' %}"></script>
        <script src="{% static 'framebuzz/player/app/js/services.js' %}"></script>
        <script src="{% static 'framebuzz/player/app/js/controllers.js' %}"></script>
        <script src="{% static 'framebuzz/player/app/js/filters.js' %}"></script>
        <script src="{% static 'framebuzz/player/app/js/directives.js' %}"></script>
        <script src="{% static 'framebuzz/player/app/js/ui.js' %}"></script>
      {% endcompress %}
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-40966336-1', 'framebuzz.com');
        ga('send', 'pageview');
      </script>
    </body>
</html>